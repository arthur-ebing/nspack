---
:caption: Offsite Asset Quantities
:sql: "SELECT vw_offsite_bin_asset_transactions.material_owner,\r\n\t   vw_offsite_bin_asset_transactions.container_material_type_code,\r\n\t
  \  vw_offsite_bin_asset_transactions.to_location,\r\n\t   SUM(quantity_bins) AS
  total_received,\r\n\t   COALESCE(returned_bins.total_returned, 0) AS total_returned,\r\n\t
  \  COALESCE(issued_bins.total_issued, 0) AS total_issued,\r\n\t   (COALESCE(issued_bins.total_issued,
  0) + COALESCE(returned_bins.total_returned, 0) - SUM(quantity_bins)) AS qty_at_site\r\nFROM
  vw_offsite_bin_asset_transactions\r\nLEFT JOIN (SELECT material_owner, container_material_type_code,\r\n\t\t
  \  from_location, SUM(quantity_bins) AS total_returned FROM vw_offsite_bin_asset_transactions\r\n\t\t
  \  WHERE transaction_type_code NOT IN ('ISSUE_BINS')\r\n\t\t   GROUP BY material_owner,
  container_material_type_code, from_location) returned_bins \r\n\t\t   ON returned_bins.material_owner
  = vw_offsite_bin_asset_transactions.material_owner\r\n\t       AND returned_bins.container_material_type_code
  = vw_offsite_bin_asset_transactions.container_material_type_code\r\n\t       AND
  returned_bins.from_location = vw_offsite_bin_asset_transactions.to_location\r\nLEFT
  JOIN (SELECT material_owner, container_material_type_code,\r\n\t\t   to_location,
  SUM(quantity_bins) AS total_issued FROM vw_offsite_bin_asset_transactions\r\n\t\t
  \  WHERE transaction_type_code = 'ISSUE_BINS'\r\n\t\t   GROUP BY material_owner,
  container_material_type_code, to_location) issued_bins \r\n\t\t   ON issued_bins.material_owner
  = vw_offsite_bin_asset_transactions.material_owner\r\n\t       AND issued_bins.container_material_type_code
  = vw_offsite_bin_asset_transactions.container_material_type_code\r\n\t       AND
  issued_bins.to_location = vw_offsite_bin_asset_transactions.to_location\r\nWHERE
  transaction_type_code NOT IN ('ISSUE_BINS')\r\nGROUP BY vw_offsite_bin_asset_transactions.material_owner,
  vw_offsite_bin_asset_transactions.container_material_type_code, \r\n         vw_offsite_bin_asset_transactions.to_location,
  5, 6"
:limit: 
:offset: 
:external_settings: {}
:columns:
  material_owner:
    :name: material_owner
    :sequence_no: 1
    :caption: Material owner
    :namespaced_name: vw_offsite_bin_asset_transactions.material_owner
    :data_type: :string
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: true
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  container_material_type_code:
    :name: container_material_type_code
    :sequence_no: 2
    :caption: Container material type
    :namespaced_name: vw_offsite_bin_asset_transactions.container_material_type_code
    :data_type: :string
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: true
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  to_location:
    :name: to_location
    :sequence_no: 3
    :caption: To location
    :namespaced_name: vw_offsite_bin_asset_transactions.to_location
    :data_type: :string
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: true
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  total_received:
    :name: total_received
    :sequence_no: 4
    :caption: Total received
    :namespaced_name: 
    :data_type: :integer
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  total_returned:
    :name: total_returned
    :sequence_no: 5
    :caption: Total returned
    :namespaced_name: 
    :data_type: :integer
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  total_issued:
    :name: total_issued
    :sequence_no: 6
    :caption: Total issued
    :namespaced_name: 
    :data_type: :integer
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  qty_at_site:
    :name: qty_at_site
    :sequence_no: 7
    :caption: Qty at site
    :namespaced_name: 
    :data_type: :integer
    :width: 120
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
:query_parameter_definitions: []
